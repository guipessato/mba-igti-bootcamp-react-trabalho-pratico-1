var productItemList=document.getElementsByClassName("product__item"),productList=document.querySelector(".product__list"),productInformatios=document.querySelector(".product__information");window.onload=t=>{fetch("https://makeup-api.herokuapp.com/api/v1/products.json?rating_greater_than=4.9",{method:"GET",mode:"cors",cache:"default"}).then(t=>{t.json().then(t=>showData(t))}).catch(t=>console.log("Erro: "+t,message))};const showData=t=>{var e=t.length;for(i=0;i<e;i++)productList.innerHTML+=`
        <li class="product__item">
            <img class="product__image" src="${t[i].api_featured_image}" alt="${t[i].name}">
            <div class="product__information">
                <h1 class="product__name">${t[i].name}</h1>
                <span class="product__price-brand">
                    <p class="product__brand">${t[i].brand}</p>
                    <p class="product__price">$${(5.5*t[i].price).toFixed(2)}</p>
                </span>
            </div>

            <ul class="product__data">
                <li class="product__data-item product__data-item--brand">Brand <p>${t[i].brand}</p></li>
                <li class="product__data-item product__data-item--price">Price <p>$${(5.5*t[i].price).toFixed(2)}</p></li>
                <li class="product__data-item product__data-item--rating">Rating    <p>${t[i].rating}</p></li>
                <li class="product__data-item product__data-item--category">Category <p>${t[i].category}</p></li>
                <li class="product__data-item product__data-item--product">Product Type <p>${t[i].product_type}</p></li>
            </ul>
        </li>
        `;0==productItemList.length?productInformatios.innerHTML="Nenhum produto encontrado!":productInformatios.innerHTML="Encontramos <strong>"+productItemList.length+"</strong> produto(s)"};function removeItens(){for(var t=productItemList.length-1;0<=t;t--)productItemList[t].remove()}function fetchFilter(){removeItens();var t,e,o=document.getElementById("brands"),o=o.options[o.selectedIndex].value,a=(console.log("[MARCA - SELECT VALUE] -> "+o),document.getElementById("types")),a=a.options[a.selectedIndex].value,a=(console.log("[TIPO - SELECT VALUE] -> "+a),""==a&&null==a||""==o&&null==o?""!=o&&null!=o||(e="?product_type="+a):e="&product_type="+a,"http://makeup-api.herokuapp.com/api/v1/products.json?"+(t=""==o&&null==o?t:"brand="+o)+e);console.log("[URL] "+a);fetch(a,{method:"GET",mode:"cors",cache:"default"}).then(t=>{t.json().then(t=>showData(t))}).catch(t=>console.log("Erro: "+t,message))}document.getElementById("brands").onchange=t=>{fetchFilter()},document.getElementById("types").onchange=t=>{fetchFilter()};