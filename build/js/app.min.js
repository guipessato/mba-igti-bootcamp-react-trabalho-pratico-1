window.onload=e=>{fetch("http://makeup-api.herokuapp.com/api/v1/products.json?rating_greater_than=4.9",{method:"GET",mode:"cors",cache:"default"}).then(e=>{e.json().then(e=>showData(e))}).catch(e=>console.log("Erro: "+e,message))};var nameProduct=document.getElementById("name"),selectBrands=(nameProduct.onchange=e=>{removeItens(),nameProductValue=nameProduct.value,console.log(nameProductValue);var t="http://makeup-api.herokuapp.com/api/v1/products.json?name="+nameProductValue;fetch(t,{method:"GET",mode:"cors",cache:"default"}).then(e=>{e.json().then(e=>showData(e))}).catch(e=>console.log("Erro: "+e,message))},document.getElementById("brands")),selectTypes=(selectBrands.onchange=e=>{removeItens();var t=selectBrands.options[selectBrands.selectedIndex].value,t=(console.log("[MARCA - SELECT VALUE] -> "+t),"http://makeup-api.herokuapp.com/api/v1/products.json?brand="+t);fetch(t,{method:"GET",mode:"cors",cache:"default"}).then(e=>{e.json().then(e=>showData(e))}).catch(e=>console.log("Erro: "+e,message))},document.getElementById("types"));selectTypes.onchange=e=>{removeItens();var t=selectTypes.options[selectTypes.selectedIndex].value,t=(console.log("[TIPO - SELECT VALUE] -> "+t),"http://makeup-api.herokuapp.com/api/v1/products.json?product_type="+t);fetch(t,{method:"GET",mode:"cors",cache:"default"}).then(e=>{e.json().then(e=>showData(e))}).catch(e=>console.log("Erro: "+e,message))};const showData=e=>{convertBase=5.5;var t=e.length;for(i=0;i<t;i++)document.querySelector(".product__list").innerHTML+=`
        <li class="product__item">
            <img class="product__image" src="${e[i].api_featured_image}" alt="${e[i].name}">
            <div class="product__information">
                <h1 class="product__name">${e[i].name}</h1>
                <span class="product__price-brand">
                    <p class="product__brand">${e[i].brand}</p>
                    <p class="product__price">$${(e[i].price*convertBase).toFixed(2)}</p>
                </span>
            </div>

            <ul class="product__data">
                <li class="product__data-item">Brand <p>${e[i].brand}</p></li>
                <li class="product__data-item">Price <p>$${(e[i].price*convertBase).toFixed(2)}</p></li>
                <li class="product__data-item">Rating <p>${e[i].rating}</p></li>
                <li class="product__data-item">Category <p>${e[i].category}</p></li>
                <li class="product__data-item">Product Type <p>${e[i].product_type}</p></li>
            </ul>
        </li>
        `};function removeItens(){for(var e=document.getElementsByClassName("product__item"),t=e.length-1;0<=t;t--)e[t].remove()}